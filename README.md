# SmartMeterServer
SmartMeterServer is the combined name of the front- and backend for viewing Smart meter data collected by (for example) [SmartMeterReader](https://github.com/bruiken/SmartMeterReader). The front-end is also called Rotom, for "ReadOuT of Meters". The backend is made up of a simple database that collects the incoming data. The frontend allows admin users to create new installations (meters) and users, and allow users to access certain installations. The data is transmitted by the reader using API calls. The readers gain access to do this using JWT tokens, which are also generated by admins. Users can then log into their accounts and view both live data and historical data. Logins can be persistent using refresh tokens.

## Installation
Installation of the server requires filling in the `appsettings.json` into `appsettings.Production.json`. The appsettings file should not contain any surprises. It contains database settings, a JWT encryption secret, cookie name and duration settings and finally default admin account settings. The latter settings are used to seed an admin user (that should be replaced immediately!) If a .NET 6 runtime is installed on the server, you are ready to start the server. 

To use the live data feature, you should fill in the RabbitMQ Stomp endpoint information when logged in as an admin (there is a link to the settings in the footer). When creating new installations, also fill in the remaining RabbitMQ information.
